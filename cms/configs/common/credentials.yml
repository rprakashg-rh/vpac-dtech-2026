---
controller_credential_types:
- name: Controller API Credentials
  kind: cloud
  inputs:
    fields:
      - id: controller_username
        type: string
        label: Controller API Username
      - id: controller_password
        type: string
        label: Controller API Password
        secret: true

- name: Custom SSH
  kind: ssh
  description: Custom SSH credential including username, password, and SSH key.
  inputs:
    fields:
      - id: username
        type: string
        label: Username
      - id: password
        type: string
        label: Password
        secret: true
      - id: ssh_key
        type: string
        label: SSH Private Key
        secret: true
        multiline: true
      - id: become_password
        type: string
        label: Become Password
        secret: true
      - id: timeout
        type: integer
        label: Timeout (seconds)
        default: 10
    required:
      - username
  injectors:
    extra_vars:
      ansible_user: "{{ username }}"
      ansible_password: "{{ password }}"
      ansible_become_password: "{{ become_password }}"
    env:
      SSH_PRIVATE_KEY: "{{ ssh_key }}"
      ANSIBLE_TIMEOUT: "{{ timeout }}"

controller_credentials:
- name: Custom SSH
  credential_type: Custom SSH
  organization: vpacalliance
  inputs:
    username: "{{ admin_user }}"
    password: "{{ admin_user_password }}"
    ssh_key: |
      {{ admin_ssh_key }}
    become_password: "{{ admin_user_password }}"
    timeout: 30
...
